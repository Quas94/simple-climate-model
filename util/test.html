<!-- temporary -->
<div id="test-thing"></div>
<script type="text/javascript">

	var noExponents = function(num) {
	    var data= String(num).split(/[eE]/);
	    if(data.length== 1) return data[0]; 

	    var  z= '', sign= num<0? '-':'',
	    str= data[0].replace('.', ''),
	    mag= Number(data[1])+ 1;

	    if(mag<0){
	        z= sign + '0.';
	        while(mag++) z += '0';
	        return z + str.replace(/^\-/,'');
	    }
	    mag -= str.length;  
	    while(mag--) z += '0';
	    return str + z;
	}

	var matlab_output = [
	'y = 2, H = 6.046385e-09, ph[y] = 8.218504e+00, B = 6.322262e-03, P[y] = 60, So[y] = 1.218300e+03, N[y] = 6.896552e+02, Cat[y] = 5.960424e+02, Cup[y] = 7.130000e+02, Clo[y] = 35650, C_CO2[y] = 2.798321e+02, R_CO2[y] = 3.802902e-04, T = 8, C_CH4[y] = 1.234538e+00, R_CH4[y] = 1.029279e-03, R_SO2[y] = 0, RF_GG = 0, RF_[y] = 1.358816e-02, Ts[y] = 0, To[y] = 0, Tsurf[y] = 0',
	'y = 501, H = 6.215560e-09, ph[y] = 8.206520e+00, B = 6.512549e-03, P[y] = 6.055882e+01, So[y] = 1.220774e+03, N[y] = 6.941845e+02, Cat[y] = 6.158650e+02, Cup[y] = 7.145042e+02, Clo[y] = 3.565147e+04, C_CO2[y] = 2.891385e+02, R_CO2[y] = 1.754107e-01, T = 8.248199e+00, C_CH4[y] = 2.299864e+02, R_CH4[y] = 1.684495e-01, R_SO2[y] = -5.635968e-02, RF_GG = 3.430304e-01, RF_[y] = -2.728762e-01, Ts[y] = -2.955412e-01, To[y] = -1.754248e-02, Tsurf[y] = -2.955412e-01',
	'y = 1001, H = 6.528602e-09, ph[y] = 8.185180e+00, B = 6.864626e-03, P[y] = 6.158574e+01, So[y] = 1.230376e+03, N[y] = 7.042850e+02, Cat[y] = 6.523206e+02, Cup[y] = 7.171251e+02, Clo[y] = 3.565696e+04, C_CO2[y] = 3.062538e+02, R_CO2[y] = 4.830812e-01, T = 8.420898e+00, C_CH4[y] = 4.219899e+02, R_CH4[y] = 2.821801e-01, R_SO2[y] = -2.326566e-01, RF_GG = 7.643663e-01, RF_[y] = 3.871007e-01, Ts[y] = 2.223347e-01, To[y] = 6.509270e-06, Tsurf[y] = 2.223347e-01',
	'y = 1501, H = 7.235381e-09, ph[y] = 8.140539e+00, B = 7.659269e-03, P[y] = 6.391527e+01, So[y] = 1.250321e+03, N[y] = 7.245512e+02, Cat[y] = 7.351345e+02, Cup[y] = 7.224000e+02, Clo[y] = 3.566935e+04, C_CO2[y] = 3.451336e+02, R_CO2[y] = 1.122498e+00, T = 8.661435e+00, C_CH4[y] = 7.433936e+02, R_CH4[y] = 4.373111e-01, R_SO2[y] = -6.453086e-01, RF_GG = 1.557264e+00, RF_[y] = 5.510180e-01, Ts[y] = 3.119420e-01, To[y] = 7.027256e-02, Tsurf[y] = 3.119420e-01',
	'y = 2001, H = 8.841603e-09, ph[y] = 8.053469e+00, B = 9.462846e-03, P[y] = 6.917252e+01, So[y] = 1.301411e+03, N[y] = 7.770775e+02, Cat[y] = 9.216776e+02, Cup[y] = 7.319054e+02, Clo[y] = 3.569734e+04, C_CO2[y] = 4.327125e+02, R_CO2[y] = 2.332358e+00, T = 8.821821e+00, C_CH4[y] = 9.958278e+02, R_CH4[y] = 5.378335e-01, R_SO2[y] = -4.927249e-01, RF_GG = 2.867799e+00, RF_[y] = 2.385614e+00, Ts[y] = 1.320940e+00, To[y] = 2.325536e-01, Tsurf[y] = 1.320940e+00',
	'y = 2501, H = 1.090076e-08, ph[y] = 7.962543e+00, B = 1.176844e-02, P[y] = 7.592223e+01, So[y] = 1.391708e+03, N[y] = 8.478962e+02, Cat[y] = 1.161276e+03, Cup[y] = 7.409222e+02, Clo[y] = 3.574281e+04, C_CO2[y] = 5.452001e+02, R_CO2[y] = 3.568633e+00, T = 8.897550e+00, C_CH4[y] = 1.128030e+03, R_CH4[y] = 5.849429e-01, R_SO2[y] = -3.436509e-01, RF_GG = 4.150440e+00, RF_[y] = 3.820181e+00, Ts[y] = 2.336294e+00, To[y] = 6.367733e-01, Tsurf[y] = 2.336294e+00',
	'y = 3001, H = 1.377698e-08, ph[y] = 7.860846e+00, B = 1.497402e-02, P[y] = 8.533407e+01, So[y] = 1.530259e+03, N[y] = 9.548497e+02, Cat[y] = 1.494870e+03, Cup[y] = 7.501630e+02, Clo[y] = 3.580656e+04, C_CO2[y] = 7.018167e+02, R_CO2[y] = 4.919612e+00, T = 8.746597e+00, C_CH4[y] = 8.718052e+02, R_CH4[y] = 4.903558e-01, R_SO2[y] = -8.512383e-02, RF_GG = 5.408555e+00, RF_[y] = 5.336833e+00, Ts[y] = 3.505329e+00, To[y] = 1.225710e+00, Tsurf[y] = 3.505329e+00'
	];
	var js_output = [
	'y = 1, H = 6.046385351332478e-9, pH[y] = 8.218504177597472, B = 0.006322261746800308, P[y] = 60, So[y] = 1218.299946975, N[y] = 689.6551998, Cat[y] = 596.0423665420689, Cup[y] = 713.0000000162645, Clo[y] = 35650, C_CO2[y] = 279.83209696810746, R_CO2[y] = 0.00038029017512450917, T = 8, C_CH4[y] = 1.2345377697841726, R_CH4[y] = 0.001029279078692592, R_SO2[y] = 0, RF_GG = 0, RF_[y] = 0.01358815721879182, Ts[y] = 0, To[y] = 0, Tsurf[y] = 0',
	'y = 500, H = 6.215560219169861e-9, pH[y] = 8.206519721546991, B = 0.00651254903577403, P[y] = 60.55881564377823, So[y] = 1220.7738128352455, N[y] = 694.1844652494666, Cat[y] = 615.8649599607244, Cup[y] = 714.5042168965318, Clo[y] = 35651.466502002506, C_CO2[y] = 289.1384788548002, R_CO2[y] = 0.17541072602141983, T = 8.248199405056095, C_CH4[y] = 229.98635040794613, R_CH4[y] = 0.1684494777645015, R_SO2[y] = -0.05635967913333388, RF_GG = 0.34303035947032023, RF_[y] = -0.27299483758951343, Ts[y] = -0.2955411513504175, To[y] = -0.017549122181675127, Tsurf[y] = -0.2955411513504175',
	'y = 1000, H = 6.528602108080157e-9, pH[y] = 8.185179799082912, B = 0.006864625847279478, P[y] = 61.58574332649383, So[y] = 1230.3761594029172, N[y] = 704.2849956045817, Cat[y] = 652.3206361159897, Cup[y] = 717.1250946181387, Clo[y] = 35656.9617821751, C_CO2[y] = 306.25381977276515, R_CO2[y] = 0.4830811773302526, T = 8.420897560939784, C_CH4[y] = 421.98993051836254, R_CH4[y] = 0.2821801222931029, R_SO2[y] = -0.23265664630000002, RF_GG = 0.764366287057483, RF_[y] = 0.3872023772722155, Ts[y] = 0.22235686619455813, To[y] = -0.0000013759313107473991, Tsurf[y] = 0.22235686619455813',
	'y = 1500, H = 7.235381333169624e-9, pH[y] = 8.140538574907476, B = 0.007659268640996249, P[y] = 63.91526865735139, So[y] = 1250.3209815332418, N[y] = 724.5511972913113, Cat[y] = 735.1344803517757, Cup[y] = 722.3999536582762, Clo[y] = 35669.346370498846, C_CO2[y] = 345.13355885059894, R_CO2[y] = 1.1224983830374862, T = 8.661435443057412, C_CH4[y] = 743.3936217612242, R_CH4[y] = 0.4373111024856069, R_SO2[y] = -0.645308645366667, RF_GG = 1.5572639304877456, RF_[y] = 0.5509946556675419, Ts[y] = 0.31191991290568016, To[y] = 0.07025964221384279, Tsurf[y] = 0.31191991290568016',
	'y = 2000, H = 8.841602882785417e-9, pH[y] = 8.053468995162786, B = 0.009462846248236715, P[y] = 69.172516411674, So[y] = 1301.4109543815564, N[y] = 777.0774965117314, Cat[y] = 921.677627130186, Cup[y] = 731.9053644243486, Clo[y] = 35697.33966560786, C_CO2[y] = 432.71250100008734, R_CO2[y] = 2.3323584483350537, T = 8.821821020426002, C_CH4[y] = 995.8278487035374, R_CH4[y] = 0.5378334768752011, R_SO2[y] = -0.49272492230000026, RF_GG = 2.8677989485172364, RF_[y] = 2.385614676488001, Ts[y] = 1.3209032018932674, To[y] = 0.23253847624624854, Tsurf[y] = 1.3209032018932674',
	'y = 2500, H = 1.0900762410784762e-8, pH[y] = 7.9625431259843875, B = 0.011768443532297234, P[y] = 75.92223189397623, So[y] = 1391.7078757067943, N[y] = 847.8961693571285, Cat[y] = 1161.276256848385, Cup[y] = 740.9222246470786, Clo[y] = 35742.80732177404, C_CO2[y] = 545.2001205860962, R_CO2[y] = 3.5686331500599366, T = 8.897550486236698, C_CH4[y] = 1128.029886355711, R_CH4[y] = 0.5849428873467019, R_SO2[y] = -0.34365088939999966, RF_GG = 4.150439992688074, RF_[y] = 3.8201810497735327, Ts[y] = 2.336288564438863, To[y] = 0.6367595296043828, Tsurf[y] = 2.336288564438863',
	'y = 3000, H = 1.377698171413667e-8, pH[y] = 7.86084591802155, B = 0.014974019145801237, P[y] = 85.33407121469035, So[y] = 1530.2591048479821, N[y] = 954.849741614901, Cat[y] = 1494.8695555685222, Cup[y] = 750.1630181453091, Clo[y] = 35806.55527399007, C_CO2[y] = 701.8166927551748, R_CO2[y] = 4.9196115521647155, T = 8.746596703285874, C_CH4[y] = 871.8051505083705, R_CH4[y] = 0.49035580248417393, R_SO2[y] = -0.08512383013333415, RF_GG = 5.40855535628701, RF_[y] = 5.3368334852391355, Ts[y] = 3.505323813140421, To[y] = 1.2256983141754811, Tsurf[y] = 3.505323813140421'
	];

	var innerHtmlStart = '<table>';
	var innerHtmlEnd = '</table>';

	var element = document.getElementById('test-thing');
	
	for (var i = 0; i < 7; i++) {
		var matlab = matlab_output[i].replace(/ /g, '').split(',');
		var js = js_output[i].replace(/ /g, '').split(',');

		var innerHtmlBody = '<tr><td><b>Variable name</b></td><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><b>Matlab Value</b></td><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><b>JavaScript Value</b></td><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><b>Difference (Matlab - Js)</b></td><td>&nbsp;&nbsp;&nbsp;&nbsp;</td><td><b>Difference (as % of Matlab)</b></td></tr>';

		element.innerHTML += '<h2>Month index (ie. \'y\' variable) = ' + matlab[0].split('=')[1] + '</h2>';
		
		for (var e = 0; e < matlab.length; e++) {
			var matlab_sides = matlab[e].split('=');
			var attrib = matlab_sides[0];
			var matlab_value = noExponents(Number(matlab_sides[1]));
			var js_sides = js[e].split('=');
			var js_value = noExponents(Number(js_sides[1]));
			var diff = noExponents(matlab_value - js_value);
			var diff_percentage;
			if (diff == 0) diff_percentage = 0;
			else if (matlab_value == 0) diff_percentage = 'infinity';
			else diff_percentage = diff / matlab_value * 100;
			if (diff_percentage !== 'infinity') diff_percentage = noExponents(diff_percentage.toPrecision(5));

			if (attrib !== 'y') {
				innerHtmlBody += '<tr><td>' + attrib + '</td><td></td><td>' + matlab_value + '</td><td></td><td>' + js_value + '</td><td></td><td>' + diff + '</td><td></td><td>' + diff_percentage + '</td></tr>';
			}
		}

		element.innerHTML += innerHtmlStart + innerHtmlBody + innerHtmlEnd;
	}

</script>
